{% extends 'base.html.twig' %}

{% block name_page %}
    Releases
{% endblock %}

{% block content %}
    <main>

        <div class="container mt-2">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="album-tab" data-bs-toggle="tab" data-bs-target="#album" type="button" role="tab" aria-controls="album" aria-selected="true">Album</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="single-tab" data-bs-toggle="tab" data-bs-target="#single" type="button" role="tab" aria-controls="single" aria-selected="false">Single</button>
                </li>
            </ul>
        </div>

        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="album" role="tabpanel" aria-labelledby="album-tab">

                <div class="album py-5 bg-light">
                    <div class="container">

                        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                            {% for release in releases.items %}
                                {% if release.album_type == 'album' %}
                                    <div class="col">
                                        <img src="{{ release.images.0.url }}" alt="Album Image" width="100%" height="225">
                                        <div class="card shadow-sm">
                                            <div class="card-body">
                                                <strong class="card-text ">{{ release.name }}</strong>
                                                <div class="">
                                                    <strong>Artists:</strong>
                                                    <div>
                                                        <ul>
                                                            {% set counter = 0 %}
                                                            {% for artist in release.artists %}
                                                                {% if counter < 5 %}
                                                                    <li><a href="{{ path('artist', { 'id': artist.id }) }}">{{ artist.name }}</a></li>
                                                                    {% set counter = counter + 1 %}
                                                                {% endif %}
                                                            {% endfor %}
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}

                            {% if quantity_albums == false %}
                                <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                                     xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Without Results"
                                     preserveAspectRatio="xMidYMid slice" focusable="false">
                                    <title>Placeholder</title>
                                    <rect width="100%" height="100%" fill="#F5F1F1"></rect>
                                    <text x="50%" y="50%" fill="#000" dy=".3em">WithoutResults</text>
                                </svg>
                            {% endif %}
                        </div>
                    </div>
                </div>

            </div>
            <div class="tab-pane fade" id="single" role="tabpanel" aria-labelledby="single-tab">

                <div class="album py-5 bg-light">
                    <div class="container">

                        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                            {% for release in releases.items %}
                                {% if release.album_type == 'single' %}
                                    <div class="col">
                                        <img src="{{ release.images.0.url }}" alt="Album Image" width="100%" height="225">
                                        <div class="card shadow-sm">
                                            <div class="card-body">
                                                <strong class="card-text ">{{ release.name }}</strong>
                                                <div class="">
                                                    <strong>Artists:</strong>
                                                    <div>
                                                        <ul>
                                                            {% set counter = 0 %}
                                                            {% for artist in release.artists %}
                                                                {% if counter < 5 %}
                                                                    <li><a href="{{ path('artist', { 'id': artist.id }) }}">{{ artist.name }}</a></li>
                                                                    {% set counter = counter + 1 %}
                                                                {% endif %}
                                                            {% endfor %}
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}

                            {% if quantity_singles == false %}
                                <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                                     xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Without Results"
                                     preserveAspectRatio="xMidYMid slice" focusable="false">
                                    <title>Placeholder</title>
                                    <rect width="100%" height="100%" fill="#F5F1F1"></rect>
                                    <text x="50%" y="50%" fill="#000" dy=".3em">WithoutResults</text>
                                </svg>
                            {% endif %}
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </main>
{% endblock %}